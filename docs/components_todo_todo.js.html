<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/todo/todo.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/todo/todo.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {useState, useEffect} from 'react';
import TodoForm from './form.js';
import TodoList from './list.js';
import {v4 as uuid} from 'uuid';

import './todo.scss';

/**
 * renders the todo ui and tracks changes in state
 * @return {html}
 */
function ToDo() {
  const [list, setList] = useState([]);

  const addItem = (item) => {
    item._id = uuid();
    item.complete = false;
    setList([...list, item]);
  };

  const toggleComplete = (id) => {
    const item = list.filter((i) => i._id === id)[0] || {};

    if (item._id) {
      item.complete = !item.complete;
      const newList = list.map((listItem) =>
        listItem._id === item._id ? item : listItem);
      setList([...newList]);
    }
  };

  useEffect(() => {
    const items = [
      {_id: 1,
        complete: false,
        text: 'Clean the Kitchen', difficulty: 3, assignee: 'Person A'},
      {_id: 2,
        complete: false,
        text: 'Do the Laundry', difficulty: 2, assignee: 'Person A'},
      {_id: 3,
        complete: false,
        text: 'Walk the Dog', difficulty: 4, assignee: 'Person B'},
      {_id: 4,
        complete: true,
        text: 'Do Homework', difficulty: 3, assignee: 'Person C'},
      {_id: 5,
        complete: false,
        text: 'Take a Nap', difficulty: 1, assignee: 'Person B'},
    ];

    setList([...items]);
  }, []);

  useEffect(() => {
    const title = document.querySelector('title');
    const itemsLeftToComplete = list.filter((item) => !item.complete).length;
    title.textContent = `There are ${itemsLeftToComplete} items to complete`;
  }, [list]);

  return (
    &lt;>
      &lt;header>
        &lt;h2>
          There are &amp;nbsp;
          {list.filter((item) => !item.complete).length}
          &amp;nbsp; Items To Complete
        &lt;/h2>
      &lt;/header>

      &lt;section className="todo">

        &lt;div>
          &lt;TodoForm addItem={addItem} />
        &lt;/div>

        &lt;div>
          &lt;TodoList
            list={list}
            handleComplete={toggleComplete}
          />
        &lt;/div>
      &lt;/section>
    &lt;/>
  );
}

export default ToDo;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#Main">Main</a></li><li><a href="global.html#ToDo">ToDo</a></li><li><a href="global.html#TodoForm">TodoForm</a></li><li><a href="global.html#TodoList">TodoList</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Jul 26 2021 18:37:36 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
